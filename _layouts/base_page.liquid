<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!--Fonts (Inter)-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link
      rel="preconnect"
      href="https://fonts.gstatic.com"
      crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <!--own CSS-->
    <link rel="stylesheet" href="{% link assets/css/styles.css %}">
    <!--jQuery-->
    <script
      src="https://code.jquery.com/jquery-3.6.4.js"
      integrity="sha256-a9jBBRygX1Bh5lt8GZjXDzyOB+bWve9EiO7tROUtj/E="
      crossorigin="anonymous"></script>
    <!--Bootstrap-->
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"
      integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN"
      crossorigin="anonymous"></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.min.js"
      integrity="sha384-+sLIOodYLS7CIrQpBjl+C7nPvqq+FbNUBDunl/OZv93DB7Ln/533i8e/mZXLi/P+"
      crossorigin="anonymous"
      defer></script>
    <!--own JS-->
    <script src="{% link assets/js/navbar.js %}" defer></script>
    <title>{{ page.title }}</title>
  </head>

  <body>
    <header>
      <h1 class="page-header-text">{{ page.header_text }}</h1>
    </header>
    <!-- Custom navbar (no Bootstrap, because I want something different) -->
    <nav class="navbar navbar-expand-md navbar-light bg-light">
      <a class="navbar-brand" href="#">
        <img
          class="rounded-circle"
          src="{% link assets/imgs/Profile.jpg %}"
          width="30"
          alt="Profile">
      </a>
      <button
        class="navbar-toggler"
        type="button"
        data-toggle="collapse"
        data-target="#navbar-content"
        aria-controls="navbar-content"
        aria-expanded="false"
        aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbar-content">
        <ul class="navbar-nav">
          {% for i in site.data.nav %}
            {% assign link_url = page.url | remove: '.html' %}
              {% if i.subpages != null %}
              <!--
              Thanks, random GitHub comment!
              https://github.com/twbs/bootstrap/issues/26740#issuecomment-1159784551
              -->
              <li class="nav-item">
                <div class="btn-group d-table nav-link w-100">
                  <a href="{{ i.link | relative_url }}" class="nav-link float-left pt-0 mr-1 mr-0-md">
                    {{ i.name }}
                  </a>
                  <a
                    href="#"
                    class="nav-link dropdown-toggle dropdown-toggle-split w-100 pt-0"
                    data-toggle="dropdown"
                    aria-expanded="false">
                    <span class="sr-only">Toggle Dropdown</span>
                  </a>
                  <ul class="dropdown-menu">
                    {% for j in i.subpages %}
                      <li>
                        <a href="{{ i.link | append: j.link | relative_url }}" class="dropdown-item">{{ j.name }}</a>
                      </li>
                    {% endfor %}
                  </ul>
                </div>
              </li>
            {% else %}
              <li class="nav-item">
                <a href="{{ i.link | relative_url }}" class="nav-link {% if link_url == i.link %}active{% endif %}">
                  {{ i.name }}
                </a>
              </li>
            {% endif %}
          {% endfor %}
        </ul>
      </div>
    </nav>

    <main>{{ content }}</main>
    <footer class="bg-light">
      <ul class="sitemap">
        {% for i in site.data.nav %}
          <li>
            <a href="{{ i.link | relative_url }}">{{ i.name }}</a>
          </li>
        {% endfor %}
        <li>
          <a href="{% link sitemap.html %}">Sitemap</a>
        </li>
      </ul>
    </footer>
  </body>

</html>